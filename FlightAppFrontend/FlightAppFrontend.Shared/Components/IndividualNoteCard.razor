@using FlightAppLibrary.Models.Dtos

<div class="card">
    <header class="card-header is-clickable pb-4 mt-5" @onclick="ToggleCard" style="cursor: pointer">
        <p class="card-header-title is-6">@Note.User!.DisplayName, @Note.TimeStamp.ToString(): @Note.NoteText</p>
        <button class="card-header-icon" aria-label="more options">
            @if (@isCardOpen)
            {
                <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
            }
            else
            {
                <span class="icon"><i class="fas fa-angle-down" aria-hidden="true"></i></span>
            }
        </button>        
    </header>
    @if (isCardOpen)
    {
        @* Replies to go here - foreach reply in note.Replies *@  
    }
</div>

@code
{
    [Parameter] public NoteDto Note { get; set; }
    private bool isCardOpen = false;

    private void ToggleCard()
    {
        isCardOpen = !isCardOpen;
    }
}
